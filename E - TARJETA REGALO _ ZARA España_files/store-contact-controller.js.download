(window.zwstdWebpackLoader=window.zwstdWebpackLoader||[]).push([[23],{169:function(t,n,i){"use strict";(function(e){var a;void 0===(a=function(t){var n=i(0),e=i(7),a=i(1),o=i(2),s=i(170);return e.extend({name:"MiniContactWidget",domEvents:{"click|._chatBtn":"openChat"},_analyticsNotify:function(){this.data.isContactPage?o.trigger(o.types.CONTACT_CLICK_TO_CHAT,{businessKind:this.data.businessKind}):o.trigger(o.types.PRODUCT_DETAILS_CLICK_TO_CHAT)},openChat:function(t){var i=n(t.target).closest("._chatBtn");this.data.isContactPage&&this.data.isIntegratedChatEnabled?i.hasClass("disabled")||o.trigger(o.types.CONTACT_CLICK_TO_CHAT,{businessKind:this.data.businessKind}):this._analyticsNotify()},setButtonAvailability:function(){var t=this.data.workgroups;a.store.support.chat.isMochatEnabled&&t&&s.checkChatAvailability(t)&&(this.$mainEl.find("._chatDisabledMsg").hide(),0===this.$mainEl.find("._chatWarnMsg").length&&this.$mainEl.find("._warnMsg").hide(),this.$mainEl.find("._chatBtn").removeClass("disabled"),this.$mainEl.find("._chatBtn").removeAttr("disabled"))},init:function(){this.setButtonAvailability()}})}.call(n,i,n,t))||(t.exports=a)}).call(this,i(0))},170:function(t,n,i){"use strict";var e;void 0===(e=function(){function t(t){var n,i=!1,e=new Date,a="",o=e.getUTCHours(),s=e.getUTCMinutes(),c=e.getUTCSeconds(),l=(e.getUTCDay()+6)%7,r=t.weeklySchedule[l].openHours;for(a+=(o<10?"0":"")+o,a+=(s<10?"0":"")+s,a+=(c<10?"0":"")+c,n=r.length-1;n>=0;n--)if(r[n].fromTime<a&&r[n].toTime>a){i=!0;break}return i}return{checkWorkGroupAvailability:t,checkChatAvailability:function(n){var i,e=!1;for(i=n.length-1;i>=0&&!(e=t(n[i]));i--);return e}}}.call(n,i,n,t))||(t.exports=e)},171:function(t,n,i){"use strict";(function(e){var a;void 0===(a=function(t){var n=i(0),e=i(7),a=i(1),o=i(2),s=i(14);return e.extend({name:"ClickToCallWidget",domEvents:{"click|._clickToCallContact":"openClickToCall"},addWindowListener:function(t,i){n(window).on(t,i)},incomingMsgHandler:function(t){var n=this.find("._clickToCallIframe");t.origin.match("/ctc.zara.com/")&&n&&t.data&&n.css("height",parseInt(t.data,10)+50)},removeIframeListeners:function(t,i){n(window).off(t,i)},openClickToCall:function(){var t=this,n={iframeUrl:this.processUrl(this.clickToCallBaseUrl),width:"450",height:"350"};this.data.onClickToCallOpened&&this.data.onClickToCallOpened(),s.create({contentData:n,template:"_shared/_click-to-call-popup",onPopupCreated:function(){t.addWindowListener("message",t.incomingMsgHandler),t.addWindowListener("onmessage",t.incomingMsgHandler)},onPopupDestroyed:function(){t.removeIframeListeners("message",t.incomingMsgHandler),t.removeIframeListeners("onmessage",t.incomingMsgHandler)}}),this.data.isContactPage?o.trigger(o.types.CONTACT_CLICK_TO_CALL):o.trigger(o.types.PRODUCT_DETAILS_CLICK_TO_CALL)},processUrl:function(){var t,n=this.data.product?this.data.product.detail.displayReference:"";return t=this.data.isPaymentPage?2:1,this.clickToCallBaseUrl.replace("{langId}",a.langCode).replace("{countryId}",a.store.countryCode).replace("{originId}",t).replace("{productCode}",n)},init:function(){this.clickToCallBaseUrl=a.store.support.clickToCall.clickToCallBaseUrl}})}.call(n,i,n,t))||(t.exports=a)}).call(this,i(0))},66:function(t,n,i){"use strict";(function(e){var a;void 0===(a=function(t){var n=i(21),e=i(0),a=i(1),o=i(2),s=i(13),c=i(169),l=i(171);return n.extend({dataKeys:["contactsInfo","workgroups","originContext","isIntegratedChatEnabled"],domEvents:{"click|._header":"onContactTypeClick","keypress|._header":"onContactTypeKeyPress","keyup|._header":"onContactTypeKeyUp","click|._videocallBtn":"openVideocall","click|._contactForm":"onContactFormLinkClick"},onContactFormLinkClick:function(){o.trigger(o.types.CONTACT_FORM_LINK_CLICKED,{eventCategory:"Contacto",eventAction:"Contacto_Formulario"})},_toggleContactType:function(t){e(t.currentTarget).closest("._contact").toggleClass("unfolded")},openVideocall:function(t){var n,i=e(t.target).closest("._videocallBtn");i.hasClass("disabled")||(n=i.data("chat-url"),o.trigger(o.types.CONTACT_CLICK_TO_SOURDLINE,{}),s.open(n,"_blank"))},onContactTypeClick:function(t){this._toggleContactType(t)},onContactTypeKeyPress:function(t){32===t.which&&t.preventDefault()},onContactTypeKeyUp:function(t){13!==t.which&&32!==t.which&&9!==t.which||this._toggleContactType(t)},initChatButton:function(){var t,n,i,e,o=this.$mainEl.find("._chatContact-online"),s=this.$mainEl.find("._chatContact-offline");o.length&&(t=this.data.contactsInfo.filter(function(t){return"online"===t.businessKind}),i=this.data.workgroups.filter(function(t){return"online"===t.business&&t.languageId===a.langId}),this.createWidget(c,o,{workgroups:i,contacts:t?t[0].contacts:[],originalContext:this.data.originContext,isContactPage:!0,businessKind:"online",isIntegratedChatEnabled:this.data.isIntegratedChatEnabled})),s.length&&(n=this.data.contactsInfo.filter(function(t){return"offline"===t.businessKind}),e=this.data.workgroups.filter(function(t){return"offline"===t.business&&t.languageId===a.langId}),this.createWidget(c,s,{workgroups:e,contacts:n?n[0].contacts:[],originalContext:this.data.originContext,isContactPage:!0,businessKind:"offline",isIntegratedChatEnabled:this.data.isIntegratedChatEnabled})),s=null,o=null},initClickToCall:function(){var t=this.$mainEl.find("._clickToCallContainer");t.length&&this.createWidget(l,t,{isPaymentPage:!1,isContactPage:!0}),t=null},init:function(){this.initChatButton(),this.initClickToCall()}})}.call(n,i,n,t))||(t.exports=a)}).call(this,i(0))}}]);